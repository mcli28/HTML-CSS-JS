function Slider(b,a,c){this.min=(b===undefined)?0:b;this.max=(a===undefined)?100:a;this.value=(c===undefined)?100:c;this.onchange=null;this.x=0;this.y=0;this.width=16;this.height=100;this.backColor="#cccccc";this.backBorderColor="#999999";this.backWidth=4;this.backX=this.width/2-this.backWidth/2;this.handleColor="#eeeeee";this.handleBorderColor="#cccccc";this.handleHeight=6;this.handleY=0;this.updatePosition();}Slider.prototype.draw=function(a){a.save();a.translate(this.x,this.y);a.fillStyle=this.backColor;a.beginPath();a.fillRect(this.backX,0,this.backWidth,this.height);a.closePath();a.strokeStyle=this.handleBorderColor;a.fillStyle=this.handleColor;a.beginPath();a.rect(0,this.handleY,this.width,this.handleHeight);a.closePath();a.fill();a.stroke();a.restore();};Slider.prototype.updateValue=function(){var a=this.value,c=this.height-this.handleHeight,b=this.max-this.min;this.value=(c-this.handleY)/c*b+this.min;if(typeof this.onchange==="function"&&this.value!==a){this.onchange();}};Slider.prototype.updatePosition=function(){var b=this.height+this.handleHeight,a=this.max+this.min;this.handleY=b-((this.value-this.min)/a)*b;};Slider.prototype.captureMouse=function(d){var b=this,c=utils.captureMouse(d),e={};
f();d.addEventListener("mousedown",function(){if(utils.containsPoint(e,c.x,c.y)){d.addEventListener("mouseup",a,false);d.addEventListener("mousemove",g,false);}},false);function a(){d.removeEventListener("mousemove",g,false);d.removeEventListener("mouseup",a,false);}function g(){var h=c.y+b.y;b.handleY=Math.min(b.height+b.handleHeight,Math.max(h,0));b.updateValue();}function f(){e.x=b.x;e.y=b.y+b.handleY;e.width=b.width;e.height=b.handleHeight;}};