<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.552, user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="events.js"></script>
    <script>
        function writeMessage(context, message) {
            context.font = "18pt Calibri";
            context.fillStyle = "black";
            context.fillText(message, 10, 25);
        }
        window.onload = function () {
            var events = new Events("myCanvas");
            var canvas = events.getCanvas();
            var context = events.getContext();
            var message = "";
            events.setStage(function () {
                this.clear();
                // draw blue triangle
                this.beginRegion();
                context.beginPath();
                context.lineWidth = 4;
                context.strokeStyle = "black";
                context.fillStyle = "#00D2FF";
                context.moveTo(50, 50);
                context.lineTo(180, 80);
                context.lineTo(80, 170);
                context.closePath();
                context.fill();
                context.stroke();
                this.addRegionEventListener("touchmove", function () {
                    var touchPos = events.getTouchPos();
                    if (touchPos !== null) {
                        var touchX = touchPos.x - 20;
                        var touchY = touchPos.y - 50;
                        message = "Triangle touch position: " + touchX + "," + touchY;
                    }
                });
                this.closeRegion();
                // draw yellow rectangle
                // this is an example of a shape
                // with no event listeners
                context.beginPath();
                context.lineWidth = 4;
                context.strokeStyle = "black";
                context.fillStyle = "yellow";
                context.rect(200, 65, 150, 75);
                context.fill();
                context.stroke();
                // draw red circle
                this.beginRegion();
                context.beginPath();
                context.arc(450, canvas.height / 2, 70, 0, Math.PI * 2, true);
                context.fillStyle = "red";
                context.fill();
                context.stroke();
                this.addRegionEventListener("touchstart", function () {
                    message = "Touchstart red circle!";
                });
                this.addRegionEventListener("touchend", function () {
                    message = "Touchend red circle!";
                });
                this.closeRegion();
                writeMessage(context, message);
            });
            // since we set the draw stage function, the listen()
            // method is automatically called for us
        };
    </script>
</head>
<body>
    <canvas id="myCanvas" width="600" height="250" style="border:1pxsolid black;">
    </canvas>
</body>
</html>