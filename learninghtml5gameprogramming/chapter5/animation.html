<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>chapter5</title>
	<script src="../trident.js"></script>
</head>
<body>
	<span id="keyframespan" onmouseover="keyframeTimeline.play();" onmouseout="keyframeTimeline.playReverse();">some text Lorem ipsum dolor sit amet, consectetur adipisicing elit.</span>
	<script>
		var keyframeTimeline = new Timeline(keyframespan.style);
		self.init = function () {
			var self = this;
			self.current = 0;
			self.spriteTimeline = new Timeline(this);
			self.spriteTimeline.addPropertiesToInterpolate([
				{
					property: "current", from: 0, to: 36,
					interpolator: new IntPropertyInterpolator()
				}]);
			self.spriteTimeline.duration = 5000;
			self.spriteTimeline.addEventListener(onpulse, function (Timeline, durationFraction, timelinePosition) {
				self.drawSprite();
			});
			self.spriteTimeline.play();
		}

		self.drawSprite = function () {
			var ctx = self.context;
			var row = 3;
			ctx.clearRect(0, 0, 128, 128);
			ctx.drawImage(self.sheet, self.current * 128, row * 128, 128, 128, 0, 0, 128, 128);
		}

//		keyframeTimeline.addPropertiesToInterpolate([
//			{
//				property: "font-size", from: 16, to: 36,
//				interpolator: new IntPropertyInterpolator()
//			},
//			{
//				property: "color",
//				goingTrough: {
//					0: "rgb(0, 0, 0)",
//					0.4: "rgb(0, 255, 0)",
//					1: "rgb(200, 140, 140)"
//			},
//				interpolator: new RGBPropertyInterpolator()
//			}
//		]);
//		keyframeTimeline.duration = 3000;
	</script>
</body>
</html>